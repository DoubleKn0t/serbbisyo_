<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Booking Details</title>
  <link rel="stylesheet" href="../css/navbar.css">

</head>
<body>
<body>
<!-- NAVBAR -->
  <nav class="navbar">
    <div class="nav-inner">
      <div class="nav-left">
        <a href="index.html" class="logo-box">
          <span class="logo-text">S</span>
        </a>
        <div class="nav-title">
          <div class="nav-sub">SerbBisyo</div>
        </div>
      </div>

      <div class="nav-links">
        <a class="nav-link" href="../client/c_dashboard.html">Home</a>
        <a class="nav-link" href="../client/browse.html">Browse Services</a>
        <a class="nav-link active" href="../client/bookings.html">My Bookings</a>
        <a class="nav-link" href="../client/favorites.html">Favorites</a>
        <a class="nav-link" href="../client/c_messages.html">Messages</a>
        <a class="nav-link" href="../client/c_profile.html">Profile</a>
        <a class="nav-link" href="../client/c_settings.html">Settings</a>
        <button onclick="logout()" class="nav-link" style="border:none; background:transparent; cursor:pointer;">
          Logout
        </button>
      </div>
    </div>
  </nav>

<div class="container">
  
  <div class="card" id="detailsCard">
    <!-- Filled by JS -->
  </div>
</div>

<style>
  body {
    background: #f9fafb;
    font-family: Arial, sans-serif;
  }

  .container {
    max-width: 900px;
    margin: 40px auto;
    padding: 0 16px;
  }

  .back-link {
    display: inline-block;
    margin-bottom: 16px;
    text-decoration: none;
    font-weight: 600;
    color: #2563eb;
  }

  .card {
    background: white;
    border-radius: 14px;
    padding: 28px;
    border: 1px solid #e5e7eb;
    box-shadow: 0 8px 20px rgba(0,0,0,0.05);
  }

  .header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 24px;
  }

  .title {
    font-size: 24px;
    font-weight: 700;
    color: #111827;
  }

  .status {
    padding: 6px 14px;
    border-radius: 999px;
    font-size: 13px;
    font-weight: 600;
    background: #fef3c7;
    color: #92400e;
  }

  .info-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 16px;
    margin-bottom: 24px;
  }

  .info-box {
    background: #f9fafb;
    padding: 14px;
    border-radius: 10px;
  }

  .label {
    font-size: 12px;
    color: #6b7280;
    margin-bottom: 4px;
  }

  .value {
    font-size: 15px;
    font-weight: 600;
    color: #111827;
  }

  .section {
    margin-bottom: 24px;
  }

  .section h3 {
    font-size: 16px;
    margin-bottom: 8px;
    color: #111827;
  }

  .description {
    background: #f9fafb;
    padding: 16px;
    border-radius: 10px;
    color: #374151;
    line-height: 1.6;
  }

  .actions {
    display: flex;
    gap: 12px;
    margin-top: 24px;
  }

  .btn {
    padding: 12px 18px;
    border-radius: 10px;
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
    border: none;
  }

  .btn-danger {
    background: #dc2626;
    color: white;
  }

  .btn-secondary {
    background: #e5e7eb;
    color: #374151;
  }
</style>

<script>
  const bookingId = localStorage.getItem("activeBookingId");
  const bookings = JSON.parse(localStorage.getItem("bookings")) || [];
  const booking = bookings.find(b => b.id === bookingId);

  const card = document.getElementById("detailsCard");

  if (!booking) {
    card.innerHTML = "<p>Booking not found.</p>";
  } else {
    card.innerHTML = `
      <div class="header">
        <div class="title">${booking.title}</div>
        <div class="status">${booking.status}</div>
      </div>

      <div class="info-grid">
        <div class="info-box">
          <div class="label">Category</div>
          <div class="value">${booking.category}</div>
        </div>
        <div class="info-box">
          <div class="label">Location</div>
          <div class="value">${booking.location}</div>
        </div>
        <div class="info-box">
          <div class="label">Budget</div>
          <div class="value">${booking.budget}</div>
        </div>
        <div class="info-box">
          <div class="label">Urgency</div>
          <div class="value">${booking.urgency || "â€”"}</div>
        </div>
      </div>

      <div class="section">
        <h3>Description</h3>
        <div class="description">
          ${booking.description || ""}
        </div>
      </div>

      <div class="actions">
        <button class="btn btn-secondary" onclick="history.back()">Back</button>
        <button class="btn btn-danger" onclick="cancelBooking('${booking.id}')">Cancel Booking</button>
      </div>
    `;
  }

  function cancelBooking(id) {
    if (!confirm("Cancel this booking?")) return;

    const updated = bookings.filter(b => b.id !== id);
    localStorage.setItem("bookings", JSON.stringify(updated));

    alert("Booking cancelled");
    window.location.href = "bookings.html";
  }
</script>

</body>


</html>
